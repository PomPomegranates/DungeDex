@inject NavigationManager nav
@rendermode InteractiveWebAssembly

@if (dungemonList != null)
{
	<table class="table">

		<thead>
			<tr>
				<th scope="col">Name</th>
				<th scope="col">Challenge Rating</th>
				<th scope="col">Base Pokemon</th>
			</tr>
		</thead>

		<tbody>

			@foreach (var dungemon in dungemonList)
			{
				<tr style="cursor: pointer;" @onclick="() => HandleRowClick(dungemon.Id)">
					<td>@(string.IsNullOrEmpty(dungemon.NickName) ? dungemon.BasePokemon : dungemon.NickName)</td>
					<td>@dungemon.ChallengeRating</td>
					<td>@dungemon.BasePokemon</td>
				</tr>
			}

		</tbody>

	</table>
}

@code {
	[Parameter]
	public List<Dungemon> dungemonList { get; set; } = null!;

	private void HandleRowClick(int id)
	{
		nav.NavigateTo($"/dungemon/{id}");
	}
}
